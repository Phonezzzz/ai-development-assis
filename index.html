<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Рабочее пространство ИИ агентов</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="/src/main.css" rel="stylesheet" />
</head>

<body>
    <canvas id="starfield-canvas"></canvas>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    <script>
        // Starfield animation
        class Star {
            constructor(canvas) {
                this.canvas = canvas;
                this.reset();
            }

            reset() {
                this.x = (Math.random() - 0.5) * 2000;
                this.y = (Math.random() - 0.5) * 2000;
                this.z = Math.random() * 1000 + 1;
                this.speed = 2;
            }

            update() {
                this.z -= this.speed;
                if (this.z <= 0) {
                    this.reset();
                    this.z = 1000;
                }
            }

            draw(ctx) {
                const x = (this.x / this.z) * this.canvas.width / 2 + this.canvas.width / 2;
                const y = (this.y / this.z) * this.canvas.height / 2 + this.canvas.height / 2;
                
                if (x < 0 || x > this.canvas.width || y < 0 || y > this.canvas.height) {
                    this.reset();
                    return;
                }
                
                const size = (1 - this.z / 1000) * 2;
                const opacity = 1 - this.z / 1000;
                
                ctx.beginPath();
                ctx.fillStyle = `rgba(139, 92, 246, ${opacity})`;
                ctx.arc(x, y, size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initStarfield() {
            const canvas = document.getElementById('starfield-canvas');
            const ctx = canvas.getContext('2d');
            const stars = [];
            const numberOfStars = 800;

            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            function animate() {
                ctx.fillStyle = '#000000';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                stars.forEach(star => {
                    star.update();
                    star.draw(ctx);
                });

                requestAnimationFrame(animate);
            }

            // Initialize stars
            for (let i = 0; i < numberOfStars; i++) {
                stars.push(new Star(canvas));
            }

            window.addEventListener('resize', resize);
            resize();
            animate();
        }

        // Start starfield when page loads
        window.addEventListener('load', initStarfield);
    </script>
</body>

</html>
